# 设计模式

## 常见设计模式

### 创建型模式

- 单例模式：一个类全局只能有一个实例
  - bean单例
- 工厂模式：定义一个创建对象的接口，让子类决定实例化的类
  - spring使用工厂模式创建bean，通过ApplicationContext.getBean()方法获取Bean实例。
- 抽象工厂模式：定义一个抽象工厂接口，具体的实现类由实现这个抽象工厂接口的方法实现

### 结构型模式

**适配器模式（类似转接头的功能）**

将一个类的接口转换成客户希望的另一个接口。 Adapter模式使得原本由于接口不兼容而不能一起工作的那些类可以在一起工作；

- 如 Spring MVC中的HandlerAdapter将不同的Controller类适配成统一的处理器接口。将请求映射到对应的controller。

**桥接模式**

是将抽象部分与它的实现部分分离，使它们都可以独立地变化 又称为柄体（Handle and Body）模式或接口（interface）模式。`把属性整块抽出来，变成一个类，并放到构造方法中`

- Spring的JDBC和Hibernate等ORM框架使用了桥接模式，将数据库访问的具体实现和接口分离。

**装饰器模式**

允许用户在不修改原始对象的情况下，以动态方式扩展其功能。

- Spring的AOP功能使用了装饰器模式，实现了对现有对象动态的添加额外的功能。

### 行为型模式

**观察者模式**

定义了对象之间的一对多关系，当一个对象的状态发生变化时，其相关对象会自动收到通知并更新。

- Spring的事件机制使用观察者模式实现，当事件发生时，注册的监听者会收到通知并执行相应的操作。

- 应用场景：
  - 事件处理：一个对象需要在另一个对象状态改变发生响应，如点击
  - 发布订阅模式：消息队列的监听
  - 状态监控：一个对象需要监控另一个对象的状态